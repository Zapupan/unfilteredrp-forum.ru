# Настройка EmailJS для отправки кодов верификации

## Шаг 1: Регистрация на EmailJS

1. Перейдите на https://www.emailjs.com/
2. Нажмите "Sign Up" и создайте бесплатный аккаунт
3. Подтвердите email

## Шаг 2: Создание Email Service

1. В панели управления перейдите в "Email Services"
2. Нажмите "Add New Service"
3. Выберите ваш email провайдер (Gmail, Outlook, Yahoo и т.д.)
4. Следуйте инструкциям для подключения вашего email аккаунта
5. В поле "Use Default Email Address" можно оставить как есть (используется ваш email)
6. **Поле "Reply To" можно оставить ПУСТЫМ** - это опциональное поле для адреса, на который будут приходить ответы. Для кодов верификации оно не нужно.
7. Сохраните **Service ID** (например: `service_xxxxx`)

## Шаг 3: Создание Email Template

1. Перейдите в "Email Templates"
2. Нажмите "Create New Template"
3. Используйте следующий шаблон:

**Subject:**
```
Код подтверждения для Unfiltered RP
```

**Content (HTML):**
```html
<h2>Здравствуйте, {{to_name}}!</h2>
<p>Ваш код подтверждения email для форума Unfiltered RP:</p>
<h1 style="font-size: 32px; color: #3b82f6; text-align: center; padding: 20px; background: #f3f4f6; border-radius: 10px; margin: 20px 0;">{{verification_code}}</h1>
<p>Этот код действителен в течение 15 минут.</p>
<p>Если вы не регистрировались на нашем форуме, просто проигнорируйте это письмо.</p>
<hr>
<p style="color: #6b7280; font-size: 12px;">Unfiltered RP Forum</p>
```

**ВАЖНО:** В шаблоне EmailJS должны быть использованы следующие переменные:
- `{{to_email}}` - email получателя (автоматически подставляется)
- `{{to_name}}` - имя пользователя
- `{{verification_code}}` - код подтверждения (6 цифр)

4. В настройках шаблона убедитесь, что:
   - **To Email** установлен как `{{to_email}}`
   - **From Name** можно установить как `{{from_name}}` или просто "Unfiltered RP"
   - Все переменные в шаблоне совпадают с именами выше

5. Сохраните шаблон и скопируйте **Template ID** (например: `template_xxxxx`)

## Шаг 4: Получение Public Key

1. Перейдите в "Account" → "General"
2. Найдите "Public Key" и скопируйте его (например: `xxxxxxxxxxxxxxxx`)

## Шаг 5: Настройка в коде

Откройте файл `script.js` и найдите секцию:

```javascript
const EMAILJS_CONFIG = {
    PUBLIC_KEY: 'YOUR_PUBLIC_KEY',
    SERVICE_ID: 'YOUR_SERVICE_ID',
    TEMPLATE_ID: 'YOUR_TEMPLATE_ID'
};
```

Замените значения на ваши:
- `YOUR_PUBLIC_KEY` → ваш Public Key
- `YOUR_SERVICE_ID` → ваш Service ID
- `YOUR_TEMPLATE_ID` → ваш Template ID

## Шаг 6: Проверка работы

1. Откройте консоль браузера (F12 → Console)
2. Зарегистрируйтесь на сайте
3. Проверьте консоль на наличие сообщений:
   - ✅ "Email с кодом верификации успешно отправлен" - всё работает
   - ❌ "Ошибка отправки email" - проверьте настройки

## Возможные проблемы:

### Письма не приходят:
1. **Проверьте консоль браузера** - там будут детали ошибки
2. **Проверьте папку "Спам"** - письма могут попадать туда
3. **Убедитесь, что переменные в шаблоне правильные:**
   - `{{to_email}}` - для email получателя
   - `{{to_name}}` - для имени
   - `{{verification_code}}` - для кода
4. **Проверьте лимиты EmailJS** - бесплатный тариф: 200 писем/месяц
5. **Проверьте настройки Email Service** - убедитесь, что сервис активен

### Ошибка "Invalid template ID" или "Invalid service ID":
- Проверьте, что ID скопированы правильно (без лишних пробелов)
- Убедитесь, что шаблон и сервис сохранены в EmailJS

### Ошибка "Public Key is invalid":
- Проверьте Public Key в настройках аккаунта EmailJS
- Убедитесь, что ключ скопирован полностью

## Готово!

После настройки коды верификации будут автоматически отправляться на email пользователей при регистрации и при запросе нового кода.

**Бесплатный тариф EmailJS:**
- 200 писем в месяц
- Без ограничений по времени
- Поддержка всех основных email провайдеров

